<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="common/header :: common-header" />


<body>
	<div th:replace="common/header :: navbar"></div>


	<div class="container-fluid">
		<div class="row" style="margin-bottom: -100px;">
			<div class="col-md-8">
				<h2 class="section-headline">
					<span>User Account</span>
				</h2>
			</div>
			<div class="col-md-4">
				<img alt="logo" src="/img/bookstorelogo.jpg" class="img-responsive">
			</div>
		</div>

		<hr
			style="position: absolute; width: 98%; height: 6px; background-color: #333; z-index: -1; margin-top: 25px;" />
		<img alt="Separator" src="/img/wood.png" class="img-responsive"
			style="margin-top: -75px;" />
		<div class="row" style="margin-top: 10px;">
			<form th:action="@{/checkout}" method="post">
				<!-- Left panel -->
				<div class="col-sm-4">
					<div class="panel panel-default">
						<div class="panel-body">
							<button type="submit" class="btn btn-warning btn-block">Place
								your order</button>
							<p style="font-size: smaller;">
								By placing your order, you agree to ABCBookstore's <a href="#">Privacy</a>
								notice and <a href="#">Conditions</a> of use.
							</p>

							<hr />
							<h3>Order Summary</h3>
							<div class="row">
								<div class="col-sm-7 text-left">Total before text:</div>
								<div class="col-sm-5 text-right">
									$<span th:text="${shoppingCart.grandTotal}"></span>
								</div>
							</div>

							<div class="row">
								<div class="col-sm-7 text-left">
									<h3 style="color: darkred;">
										<strong>Order Total: </strong>
									</h3>
								</div>
								<div class="col-sm-5 text-right">
									<h3>
										<strong style="color: darkred;"><span
											th:with="total=${shoppingCart.grandTotal+shoppingCart.grandTotal*0.06}"
											th:text="${#numbers.formatDecimal(total, 0, 2)}"></span></strong>
									</h3>
								</div>
							</div>

							<div class="panel-footer">Shipping and handling haven't
								applied.</div>
						</div>
					</div>
				</div>
				<!-- Checkout Info -->
				<div class="col-sm-8">
					<div th:if="${missingRequiredField}">
						<h5 class="alert alert-warning">There are some fields
							missing. Field with * is required.</h5>
					</div>

					<div class="panel-group" id="accordion">
						<!-- 1.Shipping Address -->
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
									<a data-toggle="collapse" data-parent="#accordion"
										href="#shippingInfo"> 1. Shipping Address </a>
								</h4>
							</div>
							<div id="shippingInfo" class="panel-collapse collapse"
								th:classappend="${classActiveShipping}? 'in'">
								<div class="panel-body">
									<table class="table" th:if="${not emptyShippingList}">
										<thead>
											<tr>
												<th>Available Shipping Address</th>
												<th>Operation</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="userShipping : ${userShippingList}">
												<td
													th:text="${userShipping.userShippingStreet1}+'  '+${userShipping.userShippingStreet2}+'  '+${userShipping.userShippingCity} +', '+${userShipping.userShippingState}">
												</td>
												<td><a
													th:href="${/setShippingAddress(userShipping.id)}">use
														this address</a></td>
											</tr>
										</tbody>
									</table>

									<div class="form-group">
										<label for="shippingName">* Name</label> <input type="text"
											class="form-control" id="shippingName"
											placeholder="Receiver Name" name="shippingAddressName"
											th:value="${shippingAddress.shippingAddressName}" />
									</div>

									<div class="form-group">
										<label for="shippingStreet">* Street Address</label> <input
											type="text" class="form-control" id="shippingStreet"
											placeholder="Street Address 1" name="shippingAddressStreet1"
											th:value="${shippingAddress.shippingAddressStreet1}" />
									</div>

									<div class="form-group">
										<input type="text" class="form-control"
											placeholder="Street Address 2" name="shippingAddressStreet2"
											th:value="${shippingAddress.shippingAddressStreet2}" />
									</div>

									<div class="row">
										<div class="col-sm-4">
											<div class="form-group">
												<label for="shippingCity">* City</label> <input type="text"
													class="form-control" id="shippingCity"
													placeholder="Shipping City" th:name="shippingAddressCity"
													required="required"
													th:value="${shippingAddress.shippingAddressCity}" />
											</div>
										</div>
										<div class="col-sm-4">
											<div class="form-group">
												<label for="shippingAddressState">* State</label> <select
													id="shippingAddressState" class="form-control"
													th:name="shippingAddressState"
													th:value="${shippingAddress.shippingAddressState}"
													required="required">
													<option value="" disabled="disabled">Please select
														an option.</option>
													<option th:each="state : ${stateList}" th:text="${state}"
														th:selected="(${shippingAddress.shippingAddressState}==${state})"></option>
												</select>
											</div>
										</div>
										<div class="col-sm-4">
											<div class="form-group">
												<label for="shippingAddressZipcode">* Zipcode</label> <input
													type="text" class="form-control"
													id="shippingAddressZipcode" placeholder="Shipping Zipcode"
													th:name="shippingAddressZipcode" required="required"
													th:value="${shippingAddress.shippingAddressZipcode}" />
											</div>
										</div>
									</div>

									<a data-toggle="collapse" data-parent="#accordion"
										class="btn btn-warning pull-right" href="#paymentInfo">Next</a>
								</div>
							</div>
						</div>

						<!-- Payment Info -->
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
									<a data-toggle="collapse" data-parent="#accordion"
										href="#paymentInfo"> 2.Payment Information </a>
								</h4>
							</div>
							<div id="paymentInfo" class="panel-collapse collapse"
								th:classappend="{classActivePayment}? 'in'">
								<div class="panel-body">
									<table class="table" th:if="${not emptyPaymentList}">
										<thead>
											<tr>
												<th>Available Credit Card</th>
												<th>Operation</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="userPayment : ${userPaymentList}">
												<td th:text="${userPayment.cardName}"></td>
												<td><a
													th:href="${/setPaymentMethod(userPaymentId=${userPayment.id})}">use
														this payment</a></td>
											</tr>
										</tbody>
									</table>
									<!-- Credit card information -->
									<div class="row">
										<div class="col-sm-12">
											<img alt="" th:src="@{/img/creditcard.png}"
												class="img-responsive" /> <br />
											<div class="form-group">
												<label for="cardType">* Select Card Type: </label> <select
													class="form-control" id="cartType" name="type"
													th:value="${payment.type}">
													<option disabled="disabled">--Select--</option>
													<option value="visa">Visa</option>
													<option value="mastercard">Master Card</option>
													<option value="discover">Discover</option>
													<option value="amex">American Express</option>
												</select>
											</div>
											<div class="form-group">
												<label for="cardHolder">* Card Holder Name:</label> <input
													type="text" class="form-control" id="cardHolder"
													required="required" placeholder="Card Holder Name"
													th:name="holderName" th:value="${userPayment.holderName}" />
											</div>

											<div class="form-group">
												<label for="cardNumber">* Card Number:</label>
												<div class="input-group">
													<input type="tel" class="form-control" id="cardNumber"
														required="required" placeholder="Valid Card Number"
														th:name="cardNumber" th:value="${userPayment.cardNumber}" />
													<span class="input-group-addon"><i
														class="fa fa-credit-card" aria-hidden="true"></i></span>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-7">
											<div class="form-group">
												<label for="#">* Expiration Date</label>
												<div class="row">
													<div class="col-sm-6">
														<select class="form-control" name="expiryMonth"
															required="required" th:value="${userPayment.expiryMonth}">
															<option disabled="disabled">--Month--</option>
															<option value="01">Jan (01)</option>
															<option value="02">Feb (02)</option>
															<option value="03">Mar (03)</option>
															<option value="04">Apr (04)</option>
															<option value="05">May (05)</option>
															<option value="06">Jun (06)</option>
															<option value="07">Jul (07)</option>
															<option value="08">Aug (08)</option>
															<option value="09">Sep (09)</option>
															<option value="10">Oct (10)</option>
															<option value="11">Nov (11)</option>
															<option value="12">Dec (12)</option>
														</select>
													</div>

													<div class="col-sm-6">
														<select class="form-control" name="expiryYear"
															th:value="${userPayment.expiryYear}">
															<option disabled="disabled">--Year--</option>
															<option value="2019">2019</option>
															<option value="2020">2020</option>
															<option value="2021">2021</option>
															<option value="2022">2022</option>
															<option value="2023">2023</option>
															<option value="2024">2024</option>
															<option value="2025">2025</option>
															<option value="2026">2026</option>
															<option value="2027">2027</option>
															<option value="2028">2028</option>
															<option value="2029">2029</option>
															<option value="2030">2030</option>
															<option value="2031">2031</option>
															<option value="2032">2032</option>
														</select>
													</div>
												</div>
											</div>
										</div>

										<div class="col-sm-5">
											<div class="form-group">
												<label for="cardCVC">CV Code</label> <input id="cardCVC"
													type="tel" class="form-control" name="cardCVC"
													placeholder="CVC" th:name="cvc"
													th:value="${userPayment.cvc}" />
											</div>
										</div>
									</div>

									<!-- Billing Address -->

									<div class="checkbox">
										<label> <input id="theSameAsShippingAddress"
											type="checkbox" name="billingSameAsShipping" value="true" />
											The same as shipping address.
										</label>
										<div class="form-group">
											<label for="billingName">* Name</label> <input type="text"
												class="form-control" id="billingName"
												placeholder="Receiver Name" th:name="billingAddressName"
												required="required"
												th:value="${billingAddress.billingAddressName}" />

										</div>
										<div class="form-group">
											<label for="billingAddress">* Street Address</label> <input
												type="text" class="form-control" id="billingAddress"
												placeholder="Street Address 1"
												th:name="billingAddressStreet1" required="required"
												th:value="${billingAddress.billingAddressStreet1}" /> <br />
											<input type="text" class="form-control" id="billingAddress"
												placeholder="Street Address 2"
												th:name="billingAddressStreet2"
												th:value="${billingAddress.billingAddressStreet2}" />

										</div>

										<div class="row">
											<div class="col-sm-4">
												<div class="form-group">
													<label for="billingCity">* City</label> <input type="text"
														class="form-control" id="billingCity"
														placeholder="Billing City" th:name="billingAddressCity"
														required="required"
														th:value="${billingAddress.billingAddressCity}" />
												</div>
											</div>
											<div class="col-sm-4">
												<div class="form-group">
													<label for="billingState">* State</label> <select
														id="billingState" class="form-control"
														th:name="billingAddressState"
														th:value="${billingAddress.billingAddressState}"
														required="required">
														<option value="" disabled="disabled">Please
															select an option.</option>
														<option th:each="state : ${stateList}" th:text="${state}"
															th:selected="(${billingAddress.billingAddressState}==${state})"></option>
													</select>
												</div>
											</div>
											<div class="col-sm-4">
												<div class="form-group">
													<label for="billingZipcode">* Zipcode</label> <input
														type="text" class="form-control" id="billingZipcode"
														placeholder="Billing Zipcode"
														th:name="billingAddressZipcode" required="required"
														th:value="${billingAddress.billingAddressZipcode}" />
												</div>
											</div>
										</div>
										<a data-toggle="collapse" data-parent="#accordion"
											class="btn btn-warning pull-right" href=#previewItems>Next</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
	<!-- end of main container -->

	<div th:replace="common/header :: body-bottom-scripts"></div>
</body>
</html>
